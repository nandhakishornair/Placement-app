<main>

    <!-- Hero Area Start-->
    <div class="slider-area ">
        <div class="single-slider section-overly d-flex align-items-center"  style="height:150px!important;">
            <div class="container">
                <div class="row">
                    <div class="col-xl-12">
                        <div class="hero-cap text-center">                            
                            <h2>{{employerview.title}}</h2>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Hero Area End -->
    
    <div class="job-listing-area pt-30 pb-120">
        <div class="container">
            <div class="row">
                <!-- Left content -->
                <div class="col-xl-3 col-lg-3 col-md-4">
                    
                       
                    <app-admn-menu></app-admn-menu>                      
                    
                   
                </div>
                <!-- Right content -->
                <div class="col-xl-9 col-lg-9 col-md-8">
                    
                    <section class="featured-job-area">
                        <div class="container" style="margin-top:40px; overflow-x:auto;">

                          

                            <ul class="nav nav-tabs tbheads">
                                <li class="active"><a data-toggle="tab" href="#home">Overview</a></li>
                                <li><a data-toggle="tab" href="#menu1">Update</a></li>
                                <li><a data-toggle="tab" href="#menu2">Jobs</a></li>                                 
                            </ul>
                            
                              <div class="tab-content prflbox">
                                <div id="home" class="tab-pane in active">
                                    
                                    <div class="job-items">                                        
                                        <div class="job-tittle">                                            
                                        <h4>{{employerview.title}}</h4> 
                                        <i class="fas fa-phone"></i> {{employerview.phone}}
                                        <i class="fas fa-envelope" style="margin-left:5px;"></i> {{employerview.email}}
                                        <br><strong>GSTIN:</strong>{{employerview.gstin}} 
                                        </div>
                                    </div>
                                
                                  <!-- job single End -->
                               
                                <div class="job-post-details" style="margin-top: 30px;">
                                    <div class="post-details1 mb-50">
                                        <!-- Small Section Tittle -->
                                        <div class="small-section-tittle">
                                            <h4>Employer Profile</h4>
                                        </div>
                                        <p>{{employerview.companyInfo}} </p>
                                    </div>
                                </div>
                                </div>

                                <div id="menu1" class="tab-pane fade">
                                  <h4>Update Employer Details</h4>
                                  <form (ngSubmit)="updateEmployer()" class="form-contact contact_form" #editempform="ngForm">
                                  
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label for="title">Employer Title</label><small class="errdisplay">*</small>
                                                <input class="form-control" name="title" id="title" type="text" [(ngModel)]="employeredit.title" onFocus="this.placeholder = ''" onBlur="this.placeholder = 'Enter Company Title'" placeholder="Enter Company Title" required>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">                                            
                                            <div class="form-group">
                                                <label for="hone">Contact Phone</label><small class="errdisplay">* {{phoneinvalid}}</small>
                                                <input class="form-control" name="phone" id="phone" type="tel" [(ngModel)]="employeredit.phone" onFocus="this.placeholder = ''" onBlur="this.placeholder = 'Enter Phone No'" placeholder="Enter Phone No" required>
                                            </div>
                                        </div>
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label for="gstin">GSTN</label><small class="errdisplay">* {{gstinvalid}}</small>
                                                <input class="form-control" name="gstin" id="gstin" type="text" [(ngModel)]="employeredit.gstin" onFocus="this.placeholder = ''" onBlur="this.placeholder = 'Enter GSTIN'" placeholder="Enter GSTIN" required>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <div class="form-group">
                                                <label for="companyinfo">Company Details</label><small class="errdisplay">*</small>
                                                <textarea class="form-control w-100" [(ngModel)]="employeredit.companyInfo" name="companyinfo" id="companyinfo" cols="30" rows="9" onFocus="this.placeholder = ''" onBlur="this.placeholder = 'Enter Company Info'" placeholder=" Enter Company Info" required></textarea>
                                            </div>
                                        </div>                                     
                                        
                                    </div>
                                    <div class="form-group mt-3">
                                        <div><small class="errdisplay">{{frmerrorview}}</small></div>
                                        <button name="empupdate" id="empupdate" type="submit" class="button button-contactForm boxed-btn" [disabled]="editempform.form.invalid">Update</button>
                                    </div>
                                </form>


                               
<div class="modal centeredbox" tabindex="-1" role="dialog" [ngStyle]="{'display':displayStyle}">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      
      <div class="modal-body alrtbox">
        <p style="text-align:center;">Employer Details Updated 
            <br><button type="button" class="btn btn-danger" (click)="closePopup()" style="padding:20px 30px; margin-top:20px;">
                Close
              </button>
        </p>  
      </div>      
    </div>
  </div>
</div>
                                </div> 
                                
                                <div id="menu2" class="tab-pane fade">
                                    <h3>Posted Jobs</h3>
                                    <div class="emptybox">{{emptyJoblist}}</div>
                                    <table *ngIf="jobslist?.length > 0" class="table table-striped table-bordered table-sm" style="font-size:14px;">
                                        <thead>
                                            <tr>
                                                <th class="th-sm" style="width: 20px;">S.No</th>                     
                                                <th class="th-sm">Job Title</th>                     
                                                <th class="th-sm">Location</th>
                                                <th class="th-sm">Post Date</th>
                                                <th class="th-sm" style="width: 50px;">Appln</th>
                                                <th class="th-sm" style="width: 50px;">View</th>
                                                <th class="th-sm" style="width: 50px;">Delete</th>
                                            </tr>
                                        </thead>
                                 
                                        <tbody>
                                            <tr *ngFor="let job of jobslist; let i = index">
                                                <td>{{ i+1 }}</td>
                                                
                                                <td>{{ job.position }}</td>
                                 
                                                <td>{{ job.location }}</td>
                                 
                                                <td>{{ job.start_date | date:'dd/MM/yyyy'}}</td>
            
                                                <td>
                                                    <a (click)="listApplications(job._id)" class="genric-btn primary btgreen circle fnbtn">{{job.applicants.length}}</a>                                                   
                                                </td>
            
                                                <td><a (click)="previewJob(job._id)" class="genric-btn primary circle fnbtn"><i class="fa fa-eye" aria-hidden="true"></i></a></td>
            
                                                <td><a  (click)="delJobrecord(job._id)" class="genric-btn danger circle fnbtn"><i class="fa fa-trash" aria-hidden="true"></i></a></td>
                                                
                                            </tr>
                                        </tbody>
                                    </table>
                            
                                    <div class="modal centeredbox" tabindex="-1" role="dialog" [ngStyle]="{'display':jobdelStyle}">
                                        <div class="modal-dialog" role="document">
                                          <div class="modal-content">
                                            
                                            <div class="modal-body alrtbox">
                                              <p style="text-align:center;">Are you sure to delete this Job? 
                                                  <br>
                                                  <button type="button" class="btn btn-danger" (click)="processdelete(removerreferer)" style="padding:20px 30px; margin-top:20px;">
                                                    Yes
                                                  </button>&nbsp;
                                                  <button type="button" class="btn btn-danger" (click)="closeDelup()" style="padding:20px 30px; margin-top:20px;">
                                                      Cancel
                                                    </button>
                                              </p>  
                                            </div>      
                                          </div>
                                        </div>
                                      </div> 

                            <!--Job Preview starts-->
                            <div class="modal previewbox" tabindex="-1" role="dialog" [ngStyle]="{'display':previewStyle}">
                                <div class="modal-dialog" style="max-width: 650px;" role="document">                                    
                                  <div class="modal-content prvwbox">
                                    
                                    <div class="modal-body">
                                      <p style="text-align:center; font-size: 24px;">Job Title: {{pvjobtitle}}</p>
                                      <table class="table table-striped table-bordered table-sm"> 
                                        <tr>
                                            <td style="width: 30%;">Company</td><td>{{pvjobcompany}}</td>
                                        </tr>
                                        <tr>
                                            <td>No. of Openings</td><td>{{pvjobopening}}</td>
                                        </tr>
                                        <tr>
                                            <td>Open Date</td><td>{{pvjobsdate | date:'dd/MM/yyyy'}}</td>
                                        </tr>
                                        <tr>
                                            <td>Closing Date</td><td>{{pvjobedate | date:'dd/MM/yyyy'}}</td>
                                        </tr>
                                        <tr>
                                            <td>Location</td><td>{{pvjoblocation}}</td>
                                        </tr>
                                        <tr>
                                            <td>Salary</td><td>{{pvjobsalary}}</td>
                                        </tr>
                                        <tr>
                                            <td colspan="2"><strong>Skills:</strong><br>
                                            <span *ngFor="let skill of pvjobskills;">
                                                {{skill.item_text}}, 
                                            </span>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2"><strong>Job Details:</strong><br>{{pvjobjd}}</td>
                                        </tr>
                                        
                                        
                                      </table>                                          
                                      <p style="text-align:center;">
                                          <button type="button" class="btn btn-danger" (click)="closePreview()" style="padding:13px 20px; margin-top:20px;">
                                              Close
                                            </button>
                                        </p>
                                      
                                    </div>      
                                  </div>
                                </div>
                              </div>
                            <!--Job Preview ends-->

                                  </div>

                              </div>



                            
                            
                            
                        </div>
                    </section>
                    
                </div>
            </div>
        </div>
    </div>
    
    
</main>
